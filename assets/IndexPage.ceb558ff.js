import{c as A,h as K}from"./render.fa4eb063.js";import{O as j,ax as p,a as f,a5 as O,ay as R,az as U,g as Z,aD as Q,n as c,y as h,z as i,m as T,l as S,G as B,q as t,p as C,aE as J,aF as W,r,h as X,o as ee,F as P,E as k,Y as te,B as se,D as N,C as oe}from"./index.b32bd3b9.js";import{bG as ae,Z as ne,bH as le,aA as ce}from"./index.2d9e1dbe.js";var ue=A({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(l,{slots:o}){const{proxy:{$q:a}}=Z(),s=j(R,p);if(s===p)return console.error("QPage needs to be a deep child of QLayout"),p;if(j(U,p)===p)return console.error("QPage needs to be child of QPageContainer"),p;const n=f(()=>{const d=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof l.styleFn=="function"){const y=s.isContainer.value===!0?s.containerHeight.value:a.screen.height;return l.styleFn(d,y)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-d+"px":a.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":a.screen.height-d+"px"}}),L=f(()=>`q-page${l.padding===!0?" q-layout-padding":""}`);return()=>O("main",{class:L.value,style:n.value},K(o.default))}});const re={};function ie(l,o){const a=ae;return c(),h(a,{"active-text-color":"#ffd04b","background-color":"#545c64","text-color":"#fff"},{default:i(()=>[T(l.$slots,"body")]),_:3})}var de=Q(re,[["render",ie]]);const _e=S({__name:"MyMenuItem",props:{disabled:{type:Boolean,default:!0}},setup(l){return(o,a)=>{const s=ne,u=le;return c(),h(u,{disabled:o.disabled},{default:i(()=>[B(s,{size:100},{default:i(()=>[T(o.$slots,"icon")]),_:3}),t("span",null,[T(o.$slots,"title")])]),_:3},8,["disabled"])}}});const ve={},pe={class:"lds-dual-ring"};function he(l,o){return c(),C("div",pe)}var fe=Q(ve,[["render",he],["__scopeId","data-v-3ac74db5"]]);const ye=(l,o)=>fetch(`${l}`,{...o}).then(a=>a.json()),me="https://vovanakonechnyi.github.io/db.json";var ge=()=>({apiLessons(){return ye(`${me}`,{method:"GET"})}}),xe={lessons:ge()};const{lessons:be}=xe,ke=J("lessons",{state:()=>({lessons:[{id:0,title:"",subtitle:"",video_url:"",video_time:0,description:"",unlock:!1,videoId:""}]}),actions:{async fetchLessons(){this.lessons=await be.apiLessons()}}}),Ce={class:"col-12 py-2"},Le={class:"row justify-center"},$e={class:"text-4xl"},Fe={class:"col-12 py-2"},Ie={class:"row justify-center"},we={class:"text-2xl text-orange-500"},Ee={class:"col-12 py-2"},Te={class:"row justify-center"},Be=t("div",{class:"col-12 col-sm-8 col-md-6 p-2",style:{height:"450px"}},[t("div",{id:"player",width:"100%",height:"100%"})],-1),Me={class:"col-10 col-sm-4 p-2"},De={class:"col-12 py-2"},je={class:"row justify-center"},Pe={class:"col-12 col-sm-8 p-2 text-center"},Ne={class:"text-1xl"},Qe={class:"col-10 col-sm-4 p-2 flex items-center"},Se={class:"row"},qe={key:0,class:"col-12 text-center"},ze=t("span",{class:"text-1xl text-orange font-bold"}," \u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u043B\u0438 \u0435\u043F\u0456\u0437\u043E\u0434? \u041E\u0442\u0440\u0438\u043C\u0430\u0439\u0442\u0435 \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u043E\u0433\u043E:",-1),Ve=[ze],He={class:"col-12 p-2 text-center"},Oe=S({__name:"IndexPage",async setup(l){let o,a;const s=ke();[o,a]=W(()=>s.fetchLessons()),await o,a();const u=r(s.lessons),n=r(u.value[0]),L=e=>e?"Unlock":"Lock",d=e=>e?"orange":"black",y=e=>{e!=null&&e.id&&(n.value=e,$.value&&$.value.loadVideoById(n.value.videoId))},$=r(null),q=()=>{const e=n.value.videoId;$.value=new YT.Player("player",{height:"100%",width:"100%",videoId:e,events:{onStateChange:z}})},F=r(0),_=f(()=>{const e=u.value[n.value.id];return e&&!e.id?!1:e}),z=e=>{if(e&&e.data){const{duration:b=0}=e.target.playerInfo;F.value=b,_.value&&!_.value.unlock&&V(e.data)}},V=e=>{switch(e){case 0:I();break;case 1:H();break;case 2:E();break}},I=()=>{Y(),u.value[n.value.id].id&&(u.value[n.value.id].unlock=!0)},w=r(0),m=r(0),M=r(),D=r(1),H=()=>{M.value=setInterval(function(){m.value=D.value++},1e3)},E=()=>{clearInterval(M.value),w.value+=m.value},Y=()=>{m.value=0,w.value=0,D.value=0},g=f(()=>F.value-w.value),x=f(()=>F.value-m.value);return X([g,x],()=>{x.value&&x.value>=0&&x.value<=1&&(I(),E()),g.value&&g.value>=0&&g.value<=3&&(I(),E())}),ee(async()=>{q()}),(e,b)=>{const G=ce;return c(),h(ue,{class:"row justify-center"},{default:i(()=>[u.value.length?(c(),C(P,{key:1},[t("div",Ce,[t("div",Le,[t("span",$e,k(n.value.title),1)])]),t("div",Fe,[t("div",Ie,[t("span",we,k(n.value.subtitle)+".",1)])]),t("div",Ee,[t("div",Te,[Be,t("div",Me,[B(de,null,{body:i(()=>[(c(!0),C(P,null,te(u.value,v=>(c(),h(_e,{key:v.id,onClick:Ye=>y(v),disabled:!v.unlock},{icon:i(()=>[(c(),h(se(L(v.unlock)),{color:d(v.unlock)},null,8,["color"]))]),title:i(()=>[N(k(v.subtitle),1)]),_:2},1032,["onClick","disabled"]))),128))]),_:1})])])]),t("div",De,[t("div",je,[t("div",Pe,[t("span",Ne,k(n.value.description),1)]),t("div",Qe,[t("div",Se,[_.value?(c(),C("div",qe,Ve)):oe("",!0),t("div",He,[B(G,{onClick:b[0]||(b[0]=v=>y(_.value?_.value:void 0)),disabled:_.value?!_.value.unlock:!0,type:"warning"},{default:i(()=>[N("\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0435\u043F\u0456\u0437\u043E\u0434")]),_:1},8,["disabled"])])])])])])],64)):(c(),h(fe,{key:0}))]),_:1})}}});export{Oe as default};
